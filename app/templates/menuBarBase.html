<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" >
   <link href="{{url_for('static', filename='base.css')}}" rel="stylesheet" >
   <title>Base For Menu and Places</title>
   <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
   <header class="d-flex flex-wrap align-items-center justify-content-center justify-content-md-between py-3 mb-4 border-bottom">
      <a href="/" class="d-flex align-items-center col-md-3 mb-2 mb-md-0 text-dark text-decoration-none">
        <svg class="bi me-2" width="40" height="32" role="img" aria-label="Bootstrap"><use xlink:href="#bootstrap"></use></svg>
      </a>

      <ul class="nav col-12 col-md-auto mb-2 justify-content-center mb-md-0">
        <li><a href="{{url_for('home')}}" class="nav-link px-2 link-dark">Главная</a></li>
        <li><a href="{{ url_for('orderPage') }}" class="nav-link px-2 link-dark">Заказы</a></li>
        <li><a href="{{ url_for('t_order') }}" class="nav-link px-2 link-dark">Заказы по столикам</a></li>
        <li><a href="{{url_for('cart')}}" class="nav-link px-2 link-dark">Корзина</a></li>
      </ul>

      {% if session.logged_in %}

      <div class="col-md-3 text-end">
         <a href="{{url_for('userPage')}}">
         <button type="button" class="btn btn-outline-primary me-2">Профиль</button>
         </a>
         <a href="{{url_for('logout')}}">
         <button type="button" class="btn btn-primary">Выйти</button>
         </a>
       </div>

      {% else %}
      
       <div class="col-md-3 text-end">
         <a href="{{url_for('login')}}">
         <button type="button" class="btn btn-outline-primary me-2">Войти</button>
         </a>
         <a href="{{url_for('register')}}">
         <button type="button" class="btn btn-primary">Зарегистрироваться</button>
         </a>
       </div>

      {% endif %}
   </header>


   {% with messages = get_flashed_messages() %}
   {% if messages %}
     <ul class="flashes">
       {% for message in messages %}
         <li>{{ message }}</li>
       {% endfor %}
     </ul>
     <script>
       setTimeout(function() {
         var flashes = document.querySelector('.flashes');
         if (flashes) {
           flashes.remove();
         }
       }, 2000);  // 5000 миллисекунд (5 секунд)
     </script>
   {% endif %}
 {% endwith %}

   {% block text %}
   {% endblock text%}
   
   
   <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
</body>
</html>